<html  xmlns="http://www.w3.org/1999/xhtml"
            xmlns:ui="http://java.sun.com/jsf/facelets"
            xmlns:h="http://java.sun.com/jsf/html"
            xmlns:p="http://primefaces.org/ui"
            xmlns:b="http://bootsfaces.net/ui"
            xmlns:f="http://xmlns.jcp.org/jsf/core">
    <!-- Se muestran las evaluaciones  y la opción de comentar si está disponible. -->
    <h:form rendered="#{ingresoUsuario.accedido()}">
        <h:panelGrid id="datos">
            <ui:include src="evaluaciones.xhtml"></ui:include>
        </h:panelGrid>
        <h:panelGrid id="campo" style="margin: 4px;">
            <p:rating id="calificacion" value="#{evaluador.calificacion}" stars="5" cancel="false" onRate="#{evaluador.setCalificacion(value)}"/>
            <b:inputText style="margin: 3px; font-size: medium" id="comentario" placeholder="Escribe tu comentario ..." value="#{evaluador.comentario}"/>
        </h:panelGrid>
        <b:commandButton look="sucess" size="md" value="Guardar" icon="ok"
                         update="datos" process="@form" actionListener="#{evaluador.comentar()}">
                        <f:actionListener binding="#{contenido.init()}"/></b:commandButton>
        <b:commandButton look="danger" size="md" value="Cancelar" icon="remove"
        update="campo" process="@this" action-listener="#{evaluador.cancelar()}"/>
    </h:form>
    <!-- Se muestran sólo las evaluaciones si se trata de un invitado. -->
    <h:form rendered="#{!ingresoUsuario.accedido()}">
        <h:panelGrid id="datos">
            <ui:include src="evaluaciones.xhtml"></ui:include>
        </h:panelGrid>
    </h:form>
</html>